!function(e,t,a,l){var n,s,i,o,r,c,u,h,g,f,d,p="mPageScroll2id",_="mPS2id",C=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id",v={scrollSpeed:1300,autoScrollSpeed:!0,scrollEasing:"easeInOutExpo",scrollingEasing:"easeInOutCirc",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:_+"-clicked",targetClass:_+"-target",highlightClass:_+"-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0,liveSelector:!1},m=0,S={init:function(l){var l=e.extend(!0,{},v,l);if(e(a).data(_,l),s=e(a).data(_),!this.selector){var c="__"+_;this.each(function(){var t=e(this);t.hasClass(c)||t.addClass(c)}),this.selector="."+c}s.liveSelector&&(this.selector+=","+s.liveSelector),n=n?n+","+this.selector:this.selector,s.defaultSelector&&("object"==typeof e(n)&&0!==e(n).length||(n=C)),s.clickEvents&&e(a).undelegate("."+_).delegate(n,"click."+_,function(t){if(I._isDisabled.call(null))return void I._removeClasses.call(null);var a=e(this),l=a.attr("href"),n=a.prop("href");l&&l.indexOf("#/")!==-1||(I._reset.call(null),f=a.data("ps2id-offset")||0,I._isValid.call(null,l,n)&&I._findTarget.call(null,l)&&(t.preventDefault(),o="selector",r=a,I._setClasses.call(null,!0),I._scrollTo.call(null)))}),e(t).unbind("."+_).bind("scroll."+_+" resize."+_,function(){if(I._isDisabled.call(null))return void I._removeClasses.call(null);var t=e("._"+_+"-t");t.each(function(a){var l=e(this),n=l.attr("id"),s=I._findHighlight.call(null,n);I._setClasses.call(null,!1,l,s),a==t.length-1&&I._extendClasses.call(null)})}),i=!0,I._setup.call(null),I._live.call(null)},scrollTo:function(t,a){if(I._isDisabled.call(null))return void I._removeClasses.call(null);if(t&&"undefined"!=typeof t){I._isInit.call(null);var l={layout:s.layout,offset:s.offset,clicked:!1},a=e.extend(!0,{},l,a);I._reset.call(null),h=a.layout,g=a.offset,t=t.indexOf("#")!==-1?t:"#"+t,I._isValid.call(null,t)&&I._findTarget.call(null,t)&&(o="scrollTo",r=a.clicked,r&&I._setClasses.call(null,!0),I._scrollTo.call(null))}},destroy:function(){e(t).unbind("."+_),e(a).undelegate("."+_).removeData(_),e("._"+_+"-t").removeData(_),I._removeClasses.call(null,!0)}},I={_isDisabled:function(){var e=t,l="inner",n=s.disablePluginBelow instanceof Array?[s.disablePluginBelow[0]||0,s.disablePluginBelow[1]||0]:[s.disablePluginBelow||0,0];return"innerWidth"in t||(l="client",e=a.documentElement||a.body),e[l+"Width"]<=n[0]||e[l+"Height"]<=n[1]},_isValid:function(e,a){if(e){a=a?a:e;var l=a.indexOf("#/")!==-1?a.split("#/")[0]:a.split("#")[0],n=t.location.toString().split("#")[0];return"#"!==e&&e.indexOf("#")!==-1&&(""===l||l===n)}},_setup:function(){var t=I._highlightSelector(),a=1,l=0;return e(t).each(function(){var n=e(this),i=n.attr("href"),o=n.prop("href");if(I._isValid.call(null,i,o)){var r=i.indexOf("#/")!==-1?i.split("#/")[1]:i.split("#")[1],c=e("#"+r);if(c.length>0){s.highlightByNextTarget&&c!==l&&(l?l.data(_,{tn:c}):c.data(_,{tn:"0"}),l=c),c.hasClass("_"+_+"-t")||c.addClass("_"+_+"-t"),c.data(_,{i:a}),n.hasClass("_"+_+"-h")||n.addClass("_"+_+"-h");var u=I._findHighlight.call(null,r);I._setClasses.call(null,!1,c,u),m=a,a++,a==e(t).length&&I._extendClasses.call(null)}}})},_highlightSelector:function(){return s.highlightSelector&&""!==s.highlightSelector?s.highlightSelector:n},_findTarget:function(t){var a=t.indexOf("#/")!==-1?t.split("#/")[1]:t.split("#")[1],l=e("#"+a);if(l.length<1||"fixed"===l.css("position")){if("top"!==a)return;l=e("body")}return c=l,h||(h=s.layout),g=I._setOffset.call(null),u=[(l.offset().top-g[0]).toString(),(l.offset().left-g[1]).toString()],u[0]=u[0]<0?0:u[0],u[1]=u[1]<0?0:u[1],u},_setOffset:function(){g||(g=s.offset?s.offset:0),f&&(g=f);var t,a,l,n;switch(typeof g){case"object":case"string":t=[g.y?g.y:g,g.x?g.x:g],a=[t[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])],a[0].length>0?(l=a[0].height(),"fixed"===a[0].css("position")&&(l+=a[0][0].offsetTop)):l=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,a[1].length>0?(n=a[1].width(),"fixed"===a[1].css("position")&&(n+=a[1][0].offsetLeft)):n=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":t=g.call(null),t instanceof Array?(l=t[0],n=t[1]):l=n=t;break;default:l=n=parseInt(g)}return[l,n]},_findHighlight:function(a){var l=t.location.toString().split("#")[0],n=e("._"+_+"-h[href='#"+a+"']"),s=e("._"+_+"-h[href='"+l+"#"+a+"']"),i=e("._"+_+"-h[href='#/"+a+"']"),o=e("._"+_+"-h[href='"+l+"#/"+a+"']");return n=n.length>0?n:s,i=i.length>0?i:o,i.length>0?i:n},_setClasses:function(t,a,l){var n=s.clickedClass,i=s.targetClass,o=s.highlightClass;t&&n&&""!==n?(e("."+n).removeClass(n),r.addClass(n)):a&&i&&""!==i&&l&&o&&""!==o&&(I._currentTarget.call(null,a)?(a.addClass(i),l.addClass(o)):(!s.keepHighlightUntilNext||e("."+o).length>1)&&(a.removeClass(i),l.removeClass(o)))},_extendClasses:function(){var t=s.targetClass,a=s.highlightClass,l=e("."+t),n=e("."+a),i=t+"-first",o=t+"-last",r=a+"-first",c=a+"-last";e("._"+_+"-t").removeClass(i+" "+o),e("._"+_+"-h").removeClass(r+" "+c),s.forceSingleHighlight?s.keepHighlightUntilNext&&l.length>1?(l.slice(0,1).removeClass(t),n.slice(0,1).removeClass(a)):(l.slice(1).removeClass(t),n.slice(1).removeClass(a)):(l.slice(0,1).addClass(i).end().slice(-1).addClass(o),n.slice(0,1).addClass(r).end().slice(-1).addClass(c))},_removeClasses:function(t){e("."+s.clickedClass).removeClass(s.clickedClass),e("."+s.targetClass).removeClass(s.targetClass+" "+s.targetClass+"-first "+s.targetClass+"-last"),e("."+s.highlightClass).removeClass(s.highlightClass+" "+s.highlightClass+"-first "+s.highlightClass+"-last"),t&&(e("._"+_+"-t").removeClass("_"+_+"-t"),e("._"+_+"-h").removeClass("_"+_+"-h"))},_currentTarget:function(a){var l=s["target_"+a.data(_).i],n=a.data("ps2id-target"),i=n?e(n)[0].getBoundingClientRect():a[0].getBoundingClientRect();if("undefined"!=typeof l){var o=a.offset().top,r=a.offset().left,c=l.from?l.from+o:o,u=l.to?l.to+o:o,h=l.fromX?l.fromX+r:r,g=l.toX?l.toX+r:r;return i.top>=u&&i.top<=c&&i.left>=g&&i.left<=h}var f=e(t).height(),d=e(t).width(),p=n?e(n).height():a.height(),C=n?e(n).width():a.width(),v=1+p/f,m=v,S=p<f?v*(f/p):v,I=1+C/d,O=I,M=C<d?I*(d/C):I,b=[i.top<=f/m,i.bottom>=f/S,i.left<=d/O,i.right>=d/M];if(s.highlightByNextTarget){var w=a.data(_).tn;if(w){var y=w[0].getBoundingClientRect();"vertical"===s.layout?b=[i.top<=f/2,y.top>f/2,1,1]:"horizontal"===s.layout&&(b=[1,1,i.left<=d/2,y.left>d/2])}}return b[0]&&b[1]&&b[2]&&b[3]},_scrollTo:function(){s.scrollSpeed=parseInt(s.scrollSpeed),u=s.pageEndSmoothScroll?I._pageEndSmoothScroll.call(null):u;var a=e("html,body"),l=s.autoScrollSpeed?I._autoScrollSpeed.call(null):s.scrollSpeed,n=a.is(":animated")?s.scrollingEasing:s.scrollEasing,i=e(t).scrollTop(),o=e(t).scrollLeft();switch(h){case"horizontal":o!=u[1]&&(I._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:u[1]},l,n).promise().then(function(){I._callbacks.call(null,"onComplete")}));break;case"auto":if(i!=u[0]||o!=u[1])if(I._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var r;a.stop().animate({pageYOffset:u[0],pageXOffset:u[1]},{duration:l,easing:n,step:function(e,a){"pageXOffset"==a.prop?r=e:"pageYOffset"==a.prop&&t.scrollTo(r,e)}}).promise().then(function(){I._callbacks.call(null,"onComplete")})}else a.stop().animate({scrollTop:u[0],scrollLeft:u[1]},l,n).promise().then(function(){I._callbacks.call(null,"onComplete")});break;default:i!=u[0]&&(I._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:u[0]},l,n).promise().then(function(){I._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var l=e(a).height(),n=e(a).width(),s=e(t).height(),i=e(t).width();return[l-u[0]<s?l-s:u[0],n-u[1]<i?n-i:u[1]]},_autoScrollSpeed:function(){var l=e(t).scrollTop(),n=e(t).scrollLeft(),i=e(a).height(),o=e(a).width(),r=[s.scrollSpeed+s.scrollSpeed*Math.floor(Math.abs(u[0]-l)/i*100)/100,s.scrollSpeed+s.scrollSpeed*Math.floor(Math.abs(u[1]-n)/o*100)/100];return Math.max.apply(Math,r)},_callbacks:function(e){if(s)switch(this[_]={trigger:o,clicked:r,target:c,scrollTo:{y:u[0],x:u[1]}},e){case"onStart":s.onStart.call(null,this[_]);break;case"onComplete":s.onComplete.call(null,this[_])}},_reset:function(){h=g=f=!1},_isInit:function(){i||S.init.apply(this)},_live:function(){d=setTimeout(function(){s.live?e(I._highlightSelector()).length!==m&&I._setup.call(null):d&&clearTimeout(d),I._live.call(null)},1e3)},_easing:function(){function t(e){var t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375}e.easing.easeInQuad=e.easing.easeInQuad||function(e){return e*e},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e){return 1-(1-e)*(1-e)},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},e.easing.easeInCubic=e.easing.easeInCubic||function(e){return e*e*e},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e){return 1-Math.pow(1-e,3)},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},e.easing.easeInQuart=e.easing.easeInQuart||function(e){return e*e*e*e},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e){return 1-Math.pow(1-e,4)},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},e.easing.easeInQuint=e.easing.easeInQuint||function(e){return e*e*e*e*e},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e){return 1-Math.pow(1-e,5)},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},e.easing.easeInExpo=e.easing.easeInExpo||function(e){return 0===e?0:Math.pow(2,10*e-10)},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},e.easing.easeInSine=e.easing.easeInSine||function(e){return 1-Math.cos(e*Math.PI/2)},e.easing.easeOutSine=e.easing.easeOutSine||function(e){return Math.sin(e*Math.PI/2)},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e){return-(Math.cos(Math.PI*e)-1)/2},e.easing.easeInCirc=e.easing.easeInCirc||function(e){return 1-Math.sqrt(1-Math.pow(e,2))},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e){return Math.sqrt(1-Math.pow(e-1,2))},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},e.easing.easeInElastic=e.easing.easeInElastic||function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI/3))},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI/3))+1},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e){return 0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5)))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2+1},e.easing.easeInBack=e.easing.easeInBack||function(e){return 2.70158*e*e*e-1.70158*e*e},e.easing.easeOutBack=e.easing.easeOutBack||function(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2},e.easing.easeInBounce=e.easing.easeInBounce||function(e){return 1-t(1-e)},e.easing.easeOutBounce=e.easing.easeOutBounce||t,e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}}};I._easing.call(),e.fn[p]=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e[p]=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e[p].defaults=v}(jQuery,window,document);